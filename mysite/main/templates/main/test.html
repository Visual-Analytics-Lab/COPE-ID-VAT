{% extends 'main/index.html' %}

{% block content %}

<style>
  .list-group li {
    position: relative;
    width: 10vw;
  }

  .list-group li input {
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    margin: 0;
    height: 100%;
    width: 100%;
    border: none;
    padding: 10px;
    box-sizing: border-box;
  }
</style>

<div class="container-fluid" style="height: 94vh;">

  <ul class="list-group list-group-horizontal">
    <li class="list-group-item">Value</li>
    <li class="list-group-item">Label</li>
    <li class="list-group-item">Action</li>
  </ul>
  <div id="value-rows">
    <ul class="list-group list-group-horizontal">
      <li class="list-group-item"><input type="text" placeholder="Value"></li>
      <li class="list-group-item"><input type="text" placeholder="Label"></li>
      <li class="list-group-item"><button type="button" class="btn btn-danger p-1 delete-btn">Delete</button></li>
    </ul>
  </div>

  <!-- Add Coding Variable -->
  <ul class="list-group list-group-horizontal">
    <button type="button" class="btn btn-success p-1" id="add-btn">Add Code Value/Label</button>
  </ul>

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

<script>
  $(document).ready(function () {
    // Listen for add button click
    $('#add-btn').on('click', function () {
      // Populate html for new row
      const newValue =
        `<ul class="list-group list-group-horizontal">
          <li class="list-group-item"><input type="text" placeholder="Value"></li>
          <li class="list-group-item"><input type="text" placeholder="Label"></li>
          <li class="list-group-item"><button type="button" class="btn btn-danger p-1">Delete</button></li>
        </ul>`;
      // Add new row to bottom of rows
      $('#value-rows').append(newValue);
    });

    // Listen for delete button click
    $('#value-rows').on('click', '.delete-btn', function () {
      // Fetch nearest row and delete
      $(this).closest('ul').remove();
    });
  });
</script>

{% endblock %}
