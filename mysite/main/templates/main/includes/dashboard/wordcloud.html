<!-- Included in home.html -->

<div id="container" style="width: 100%; height: 40vh;">
    <canvas id="canvas"></canvas>
  </div>
  <script>
    window.onload = () => {
      const words = [
        { key: "people", value: 30 },
        { key: "vaccination", value: 27 },
        { key: "pfizer", value: 26 },
        { key: "astrazaneca", value: 20 },
        { key: "shots", value: 19 },
        { key: "covidshield", value: 17 },
        { key: "virus", value: 14 },
        { key: "homeless", value: 10 },
        { key: "rollout", value: 5 },
        { key: "coronavirus", value: 4 },
        { key: "health", value: 3 }
      ];
  
      // const colors = ["#331E36", "#A6D49F", "#4A7B9D", "#56A3A6", "#E58F65", "#D5A021", "#93253B"]; // #331E36 does not show up on dark mode
      // const colors = ["#A6D49F", "#4A7B9D", "#56A3A6", "#E58F65", "#D5A021", "#93253B", "#EDE7D9"]; // #EDE7D9 does not show up on light mode
      const colors = ["#A6D49F", "#4A7B9D", "#56A3A6", "#E58F65", "#D5A021", "#93253B"];

      // Function to get a random color from the list
      const getRandomColor = () => colors[Math.floor(Math.random() * colors.length)];
  
      const data = {
        labels: words.map((d) => d.key),
        datasets: [
          {
            label: '',
            data: words.map((d) => 10 + d.value),  // Size calculation
            originalData: words.map((d) => d.value),  // Original values
            color: words.map(() => getRandomColor())  // Random color for each word
          },
        ],
      };
  
      const ctx = document.getElementById('canvas').getContext('2d');
      window.myBar = new Chart(ctx, {
        type: 'wordCloud',
        data: data,
        options: {
          title: {
            display: false,
            text: 'Chart.js Word Cloud',
          },
          plugins: {
            legend: {
              display: false,
            },
            tooltip: {
              callbacks: {
                label: function (context) {
                  const originalValue = context.dataset.originalData[context.dataIndex];
                  return `${context.label}: ${originalValue}`;
                }
              }
            }
          }
        },
      });
    };
  </script>