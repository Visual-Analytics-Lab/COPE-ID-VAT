<!-- Included in home.html -->

<!-- https://docs.djangoproject.com/en/5.1/ref/templates/builtins/ -->
<!-- Use cycle for every other row (example of table rows) -->

<div class="row">

  <!-- Platforms to Filter By -->
  <div class="col-12">
    <div class="form-check">
      <input class="form-check-input plats-check" type="checkbox" value="" id="all-plats">
      <label class="form-check-label" for="all-plats">
        <strong>Select All</strong>
      </label>
    </div>
  </div>

  <!-- Loop through all platforms -->
  {% for platform in distinct_platforms %}
    <div class="col-6">
      <div class="form-check text-start">
        <input class="form-check-input plats-check" type="checkbox" value="{{ platform }}" id="platform-{{ forloop.counter }}">
        <label class="form-check-label" for="platform-{{ forloop.counter }}">
          {{ platform }}
        </label>
      </div>
    </div>
  {% endfor %}
  
</div>



<script>
  $('#all-plats').on('click', function () {
      var isChecked = $(this).is(':checked');
      $('.plats-check').prop('checked', isChecked);
  });

  $('.plats-check').not('#all-plats').on('click', function () {
      if (!$(this).is(':checked')) {
          $('#all-plats').prop('checked', false);
      } else if ($('.plats-check').not('#all-plats').filter(':checked').length === $('.plats-check').not('#all-plats').length) {
          $('#all-plats').prop('checked', true);
      }
  });
</script>