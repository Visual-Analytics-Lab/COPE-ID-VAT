<!-- Included in dashboard.html -->

<!-- Make sure buttons have a padding of 1 -->

<div class="overflow-y-scroll m-0 p-0" style="height: 40vh;">
    <table class="table table-striped table-hover mb-0">
  
      <!-- Keyword's Context Column Headers -->
      <thead class="sticky-top">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Post</th>
          <th scope="col">Source</th>
          <th scope="col">Topic</th>
          <th scope="col">CreatedAt</th>
        </tr>
      </thead>
  
      <!-- Keyword's Context Table Rows -->
      <tbody class="table-group-divider">

        <!-- Loop through Data -->
        {% for doc in sample_data %}
          <tr>

            <!-- Data ID -->
            <td>

              <div class="d-inline-block text-truncate" style="min-width: 5vw;">

                <!-- Form to submit doc ID for modal display -->
                <form action="{% url 'main:docInfo' %}" method="get">
                  <input type="hidden" name="page" value="{{ sample_data.number }}">
                  <input type="hidden" name="doc_id" value="{{ doc.id }}">
                  <input type="hidden" name="search_query" value="{{ request.GET.search_query }}">
                  <button class="btn btn-secondary" type="submit">{{ doc.id }}</button>
                </form>

              </div>
            </td>

            <!-- Data Text -->
            <td class="doc_text">
              <div class="d-inline-block text-truncate" style="max-width: 35vw;">{{ doc.doc_text }}</div>
            </td>

            <!-- Data JSON -->
            <td class="doc_json">
              <div class="d-inline-block text-truncate" style="max-width: 35vw">{{ doc.doc_json }}</div>
            </td>

            <!-- Data Source -->
            <td class="doc_source">
              <div class="d-inline-block text-truncate" style="min-width: 10vw">{{ doc.doc_source }}</div>
            </td>

            <!-- Data Code -->
            <td class="doc_code">
              <div class="d-inline-block text-truncate" style="min-width: 10vw">PlaceHolder</div>
            </td>

          </tr>
        {% endfor %}
      </tbody>
    </table>
      <!-- <tbody class="table-group-divider">
        <tr>
          <th scope="row">1</th>
          <td>I work with the vice-president of our companies team. We basically chase contracts from the partners in time for deadlines every month. This vice-president keeps picking on me for no reason. he keeps giving me impossible tasks and then gets angry at it. For example today, he asked me to chase a partner about a contract before deadline. I called the partner and he said he knows nothing about this at it was another persons job (who is on holiday this week). I report back to the vice-president and he says i need to get more details. I say i just called the partner and he says he knows nothing about the deal, what shall i do if he says the same thing as he did 5min ago? The vice-president then starts screaming at me saying he is very cross with me and to call the partner and get information. Cases such as these when there is physically nothing i can do. It feels i get the crap of all his anger. Shall i quit my job? But i am worried in this pandemic how will i be able to support myself? I've been pulling my hair out because of all the stress.</td>
          <td>4chan</td>
          <td>Advice</td>
          <td>2020-10-27T19:02:38Z</td>
        </tr>
        <tr>
          <th scope="row">2</th>
          <td>Business major/English minor. I work at a home remodeling company as an office manager. It's easy work and I don't get paid enough, but it's fine and I don't want to leave in the pandemic. Don't really have any passion for the field, but it's generally interesting. Wouldn't take a whole lot for me to leave.</td>
          <td>4chan</td>
          <td>Advice</td>
          <td>2020-10-27T19:02:38Z</td>
        </tr>
        <tr>
          <th scope="row">3</th>
          <td>I was always against tinder, people ask me still what I think about it and I said I won't use it and I'm not really made for it. Now I'm actually considering it because of the pandemic. What other way to meet anyone? I even talked to my friends and they said "join some society/club" but everything is pretty much closed or cancelled, especially now that we're in full lockdown again. There is no way to meet anyone, especially since a lot of people work from home so it decreases my chances even further. I just don't know if I'll find anyone for me on these apps, and I've always been against them so it'll feel weird trying them out, like I betrayed my beliefs or something. I don't know what to do but I feel like I'm ready for a relationship, just don't have any opportunities to meet people</td>
          <td>4chan</td>
          <td>Advice</td>
          <td>2020-10-27T19:02:38Z</td>
        </tr>
      </tbody>
    </table> -->
  </div>
  <div class="row">

    <!-- Pagination -->
    <nav aria-label="pagination">
      <ul class="pagination justify-content-center">

        <!-- Check if Previous -->
        {% if sample_data.has_previous %}

          <!-- First Page -->
          <li class="page-item">
            <a class="page-link" href="?page=1&search_query={{ request.GET.search_query }}" aria-label="First">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>

          <!-- Previous Page -->
          <li class="page-item">
            <a class="page-link" href="?page={{ sample_data.previous_page_number }}&search_query={{ request.GET.search_query }}">Prev</a>
          </li>
        {% else %}

          <!-- Disable Previous Button -->
          <li class="page-item disabled"><a class="page-link">Prev</a></li>
        {% endif %}

        <!-- Iterate +/- 5 Pages -->
        {% for current_page in sample_data.paginator.page_range %}
          {% if current_page <= sample_data.number|add:5 and current_page >= sample_data.number|add:-5 %}

            <!-- Check if Counter == Current Page -->
            {% if forloop.counter == sample_data.number %}

              <!-- Disable Button for Current Page -->
              <li class="page-item disabled"><a class="page-link" href="#">{{forloop.counter}}</a></li>

            {% else %}

              <!-- Button for Page Navigation -->
              <li class="page-item">
                <a class="page-link" href="?page={{forloop.counter}}&search_query={{ request.GET.search_query }}">{{forloop.counter}}</a>
              </li>
            {% endif %}

          {% endif %}
        {% endfor %}

        <!-- Check if Next -->
        {% if sample_data.has_next %}

          <!-- Next Page -->
          <li class="page-item"><a class="page-link" href="?page={{ sample_data.next_page_number }}&search_query={{ request.GET.search_query }}">Next</a>
          </li>

          <!-- Last Page -->
          <li class="page-item">
            <a class="page-link" href="?page={{ sample_data.paginator.num_pages }}&search_query={{ request.GET.search_query }}" aria-label="Last">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
          {% else %}

          <!-- Disable Next Button -->
          <li class="page-item disabled"><a class="page-link">Next</a></li>
        {% endif %}

      </ul>
    </nav>

  </div>