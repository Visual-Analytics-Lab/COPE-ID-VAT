<!-- Included in myProjectsTabs/editProject.html -->

<!-- Make sure buttons have a padding of 1 -->

<!-- CSS for Role Button -->
<style>
  .role {
    background-color: cornflowerblue;
    color: white;
    border-radius: 0.375rem;
    padding: 0.375rem 0.75rem;
    display: inline-block;
  }
</style>
  
  <div class="overflow-y-scroll m-0 p-0" style="height: 70vh;">
    <table class="table table-striped table-hover mb-0">

      <!-- User Table Column Headers -->
      <thead class="sticky-top">
        <tr>
          <th scope="col">Username</th>
          <th scope="col">User Role</th>
          <th scope="col">Email</th>
          {% if has_addedit_permission %}
            <th scope="col">Action</th>
          {% endif %}
        </tr>
      </thead>

      <!-- User Table Rows -->
      <tbody class="table-group-divider">
        <!-- Loop through users -->
        {% for user in users %}
          <tr>
            <th scope="row"><a href="{% url 'main:myProjects_userProfile' project.project_id user.user.id %}">{{ user.user.username }}</a></th>
            {% if has_edit_user_privileges and user.user != project.principal_investigator %}
              <td>{% include 'main/includes/myProjects/editUserModal.html' %}</td>
            {% else %}
              <td><button type="button" class="btn btn-role p-1 text-truncate overflow-hidden disabled">{{ user.role }}</button></td>
            {% endif %}
            <td><a href="mailto:{{ users.user.email }}">{{ user.user.email }}</a></td>
            {% if has_addedit_permission and user.user != project.principal_investigator %}
              <td>{% include 'main/includes/myProjects/deleteUserModal.html' %}</td>
            {% else %}
              <td></td>
            {% endif %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>


  